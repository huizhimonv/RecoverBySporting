<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.recoverbysporting.dao.PatientDao">
    <select id="findAll" resultType="Patient">SELECT * FROM patient</select>
    <select id="findByDid" resultType="Patient">SELECT * FROM patient WHERE did=#{did}</select>
    <insert id="insert">INSERT INTO patient(name,telephone,sex,height,weight,birthday,oid,did,startDate,endDate)
                        VALUES (#{patient.name},#{patient.telephone},#{patient.sex},#{patient.height},
                                #{patient.weight},#{patient.birthday},#{patient.oid},#{patient.did},
                                #{patient.startDate},#{patient.endDate})</insert>
    <select id="getPatientById" resultType="Patient">SELECT * FROM patient WHERE id=#{id}</select>
    <update id="update">UPDATE patient SET name=#{patient.name},telephone=#{patient.telephone},
                   sex=#{patient.sex},height=#{patient.height},weight=#{patient.weight},
                   birthday=#{patient.birthday},oid=#{patient.oid},did=#{patient.did},
                   startDate=#{patient.startDate},endDate=#{patient.endDate} WHERE id=#{patient.id}</update>
    <delete id="deleteById">DELETE FROM patient WHERE id=#{id}</delete>
    <select id="getIdByName" resultType="Integer">SELECT id FROM patient WHERE name=#{patientName}</select>
    <select id="getListByDid" resultType="Patient">SELECT id,name FROM patient WHERE did=#{did}</select>
    <select id="getList" resultType="Patient">SELECT id,name FROM patient</select>
</mapper>